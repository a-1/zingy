<div class="panel-heading profile">
    <h4 class="panel-title">Personal & Contact Details</h4>
</div>
<div class="panel-collapse" id="personalDetails">
    <div class="panel-body">
        <form name="profileForm" role="form" ng-submit="submit(profileForm)">

            <div class="row">
                <div class="col-sm-4 form-group">
                    <input
                            type="text"
                            name="firstName"
                            class="form-control"
                            placeholder="First Name"
                            ng-model="entity.firstName"
                            minlength="1"
                            required/>

                    <div ng-if="profileForm.firstName.$dirty" ng-messages="profileForm.firstName.$error"
                         class="errorMessages" ng-messages-include="app/shared/errors/errors.messages.tpl.html">
                        <div ng-message="server">{{profileForm.firstName.$error.serverMessage}}</div>
                    </div>
                </div>
                <div class="col-sm-4 form-group">
                    <input
                            type="text"
                            name="lastName"
                            class="form-control"
                            placeholder="Last Name"
                            ng-model="entity.lastName"
                            minlength="1"
                            required/>

                    <div ng-if="profileForm.lastName.$dirty" ng-messages="profileForm.lastName.$error"
                         class="errorMessages" ng-messages-include="app/shared/errors/errors.messages.tpl.html">
                        <div ng-message="server">{{profileForm.lastName.$error.serverMessage}}</div>
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-sm-4 form-group">
                    <select name="gender"
                            class="form-control"
                            ng-model="entity.gender"
                            ng-options="gender as gender for gender in genders"
                            required>
                        <option value="">Select Gender</option>
                    </select>

                    <div ng-if="profileForm.gender.$dirty" ng-messages="profileForm.gender.$error"
                         class="errorMessages" ng-messages-include="app/shared/errors/errors.messages.tpl.html">
                        <div ng-message="server">{{profileForm.gender.$error.serverMessage}}</div>
                    </div>
                </div>
                <div class="col-sm-4 form-group">
                    <div class="input-group">
                        <input type="text"
                               name="birthDate"
                               class="form-control"
                               datepicker-popup="MMM d, y"
                               show-button-bar="false"
                               ng-model="entity.birthDate"
                               is-open="birthDatePickerOpened"
                               placeholder="Date of Birth"
                               datepicker-options="datePickerOptions"
                               ng-change="dateTimePickerChanged('birthDatePickerOpened')"
                               ng-required="true"/>

                        <div ng-if="profileForm.birthDate.$dirty" ng-messages="profileForm.birthDate.$error"
                             class="errorMessages" ng-messages-include="app/shared/errors/errors.messages.tpl.html">
                            <div ng-message="server">{{profileForm.birthDate.$error.serverMessage}}</div>
                        </div>
                    <span class="input-group-addon" ng-click="openDateTimePicker($event, 'birthDatePickerOpened')"><i
                            class="glyphicon glyphicon-calendar"></i></span>
                    </div>
                </div>
                <div class="col-sm-4 form-group">
                    <input
                            type="text"
                            name="nationality"
                            class="form-control"
                            placeholder="Nationality"
                            ng-model="entity.nationality"
                            minlength="1"
                            required/>

                    <div ng-if="profileForm.nationality.$dirty" ng-messages="profileForm.nationality.$error"
                         class="errorMessages" ng-messages-include="app/shared/errors/errors.messages.tpl.html">
                        <div ng-message="server">{{profileForm.nationality.$error.serverMessage}}</div>
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-sm-4 form-group">
                    <input type="email"
                           name="email"
                           class="form-control"
                           placeholder="Contact Email"
                           ng-model="entity.email"
                           required/>

                    <div ng-if="profileForm.email.$dirty" ng-messages="profileForm.email.$error"
                         class="errorMessages" ng-messages-include="app/shared/errors/errors.messages.tpl.html">
                        <div ng-message="server">{{profileForm.email.$error.serverMessage}}</div>
                    </div>
                </div>
                <div class="col-sm-4 form-group">
                    <input type="tel"
                           name="cellPhone"
                           class="form-control"
                           placeholder="Cell Phone"
                           ng-model="entity.cellPhone"
                           minlength="10"
                           maxlength="10"
                           length="10"
                           required/>

                    <div ng-if="profileForm.cellPhone.$dirty" ng-messages="profileForm.cellPhone.$error"
                         class="errorMessages" ng-messages-include="app/shared/errors/errors.messages.tpl.html">
                        <div ng-message="server">{{profileForm.cellPhone.$error.serverMessage}}</div>
                    </div>
                </div>
                <div class="col-sm-4 form-group">
                    <input type="tel"
                           name="workPhone"
                           class="form-control"
                           placeholder="Work Phone"
                           ng-model="entity.workPhone"
                           minlength="10"
                           maxlength="10"
                           length="10"/>

                    <div ng-if="profileForm.workPhone.$dirty" ng-messages="profileForm.workPhone.$error"
                         class="errorMessages" ng-messages-include="app/shared/errors/errors.messages.tpl.html">
                        <div ng-message="server">{{profileForm.workPhone.$error.serverMessage}}</div>
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-sm-6 form-group">
                    <input type="text"
                           name="streetOne"
                           class="form-control"
                           placeholder="Address Line 1"
                           ng-model="entity.streetOne"
                           minlength="5"
                           maxlength="70"
                           required/>

                    <div ng-if="profileForm.streetOne.$dirty" ng-messages="profileForm.streetOne.$error"
                         class="errorMessages" ng-messages-include="app/shared/errors/errors.messages.tpl.html">
                        <div ng-message="server">{{profileForm.streetOne.$error.serverMessage}}</div>
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-sm-6 form-group">
                    <input type="text"
                           name="streetTwo"
                           class="form-control"
                           placeholder="Address Line 2"
                           ng-model="entity.streetTwo"/>

                    <div ng-if="profileForm.streetTwo.$dirty" ng-messages="profileForm.streetTwo.$error"
                         class="errorMessages" ng-messages-include="app/shared/errors/errors.messages.tpl.html">
                        <div ng-message="server">{{profileForm.streetTwo.$error.serverMessage}}</div>
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-sm-4 form-group">
                    <select name="city"
                            class="form-control"
                            ng-model="entity.city"
                            ng-options="city as city for city in cities"
                            required>
                        <option value="">Select City</option>
                    </select>

                    <div ng-if="profileForm.city.$dirty" ng-messages="profileForm.city.$error"
                         class="errorMessages" ng-messages-include="app/shared/errors/errors.messages.tpl.html">
                        <div ng-message="server">{{profileForm.city.$error.serverMessage}}</div>
                    </div>
                </div>
                <div class="col-sm-4 form-group">
                    <select name="state"
                            class="form-control"
                            ng-model="entity.state"
                            ng-options="state as state for state in states"
                            required>
                        <option value="">Select State</option>
                    </select>

                    <div ng-if="profileForm.state.$dirty" ng-messages="profileForm.state.$error"
                         class="errorMessages" ng-messages-include="app/shared/errors/errors.messages.tpl.html">
                        <div ng-message="server">{{profileForm.state.$error.serverMessage}}</div>
                    </div>
                </div>
                <div class="col-sm-4 form-group">
                    <input type="text"
                           name="pin"
                           class="form-control"
                           placeholder="PIN"
                           ng-model="entity.pin"
                           maxlength="6"
                           minlength="6"
                           length="6"
                           required/>

                    <div ng-if="profileForm.pin.$dirty" ng-messages="profileForm.pin.$error"
                         class="errorMessages" ng-messages-include="app/shared/errors/errors.messages.tpl.html">
                        <div ng-message="server">{{profileForm.pin.$error.serverMessage}}</div>
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col.sm-12 form-group">
                    <div id="addr-map-canvas"></div>
                </div>
            </div>

            <div class="row">
                <div class="col-sm-6 form-group">
                    <input type="url"
                           name="facebookUrl"
                           class="form-control"
                           placeholder="Facebook URL"
                           ng-model="entity.facebookUrl"
                            />

                    <div ng-if="profileForm.facebookUrl.$dirty" ng-messages="profileForm.facebookUrl.$error"
                         class="errorMessages" ng-messages-include="app/shared/errors/errors.messages.tpl.html">
                        <div ng-message="server">{{profileForm.facebookUrl.$error.serverMessage}}</div>
                    </div>
                </div>

                <div class="col-sm-6 form-group">
                    <input type="url"
                           name="youtubeUrl"
                           class="form-control"
                           placeholder="Youtube URL"
                           ng-model="entity.youtubeUrl"
                            />

                    <div ng-if="profileForm.youtubeUrl.$dirty" ng-messages="profileForm.youtubeUrl.$error"
                         class="errorMessages" ng-messages-include="app/shared/errors/errors.messages.tpl.html">
                        <div ng-message="server">{{profileForm.youtubeUrl.$error.serverMessage}}</div>
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-sm-6 form-group">
                    <input type="url"
                           name="websiteUrl"
                           class="form-control"
                           placeholder="Website URL"
                           ng-model="entity.websiteUrl"
                            />

                    <div ng-if="profileForm.websiteUrl.$dirty" ng-messages="profileForm.websiteUrl.$error"
                         class="errorMessages" ng-messages-include="app/shared/errors/errors.messages.tpl.html">
                        <div ng-message="server">{{profileForm.websiteUrl.$error.serverMessage}}</div>
                    </div>
                </div>
                <div class="col-sm-6 form-group">
                    <input type="url"
                           name="otherUrl"
                           class="form-control"
                           placeholder="Any other URL"
                           ng-model="entity.otherUrl"
                            />

                    <div ng-if="profileForm.otherUrl.$dirty" ng-messages="profileForm.otherUrl.$error"
                         class="errorMessages" ng-messages-include="app/shared/errors/errors.messages.tpl.html">
                        <div ng-message="server">{{profileForm.otherUrl.$error.serverMessage}}</div>
                    </div>
                </div>
            </div>

            <div class="row border-bottom form-group">
                <div class="col-sm-5 form-group">
                    <div class="input-group">
                        <input type="text" placeholder="Profile Pic" value="{{entityImage.name}}" class="form-control">
                    <span class="input-group-addon btn btn-default btn-file">
                        Browse
                        <input type="file"
                               accept="image/*"
                               resize-type="image/jpg"
                               image="entityImage"
                               resize-max-width="200"
                               resize-max-height="200"/>
                    </span>
                    </div>
                    <div class="infoMessages">Size: 200x200px</div>
                </div>
                <div class="col-sm-6" ng-if="entityImage">
                    <img ng-src="{{entityImage.resized.dataURL}}"/>
                </div>
            </div>

            <div class="row">
                <div class="col-sm-12 form-group">
                    <button type="submit"
                            class="btn btn-primary">Update Profile
                    </button>
                </div>
            </div>
        </form>
    </div>
</div>